<div class="layout">
  <!-- Header -->
  <header class="header">
    <div class="header__content">
      <button
        class="header__menu-btn"
        (click)="toggleSidebar()"
        [attr.aria-label]="isSidebarOpen() ? 'Fechar sidebar' : 'Abrir sidebar'"
      >
        <i class="lucide icon-menu" aria-hidden="true"></i>
      </button>
      <h1 class="header__title">{{ appTitle() }}</h1>
      <div class="header__actions">
        <button class="header__logout-btn" (click)="logout()" title="Sair">
          <i class="lucide icon-log-out" aria-hidden="true"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- Sidebar -->
  <aside
    class="sidebar"
    [class.sidebar--open]="isSidebarOpen()"
    [attr.aria-hidden]="!isSidebarOpen()"
  >
    <nav class="sidebar__nav">
      <div class="sidebar__header">
        <h2 class="sidebar__title">Menu</h2>
      </div>
      <ul class="sidebar__menu">
        <li class="sidebar__item">
          <a
            routerLink="/dashboard"
            routerLinkActive="sidebar__link--active"
            class="sidebar__link"
            (click)="closeSidebar()"
          >
            <i class="lucide icon-house" aria-hidden="true"></i>
            Dashboard
          </a>
        </li>
        <li class="sidebar__item">
          <a
            routerLink="/passwords"
            routerLinkActive="sidebar__link--active"
            class="sidebar__link"
            (click)="closeSidebar()"
          >
            <i class="lucide icon-key" aria-hidden="true"></i>
            Senhas
          </a>
        </li>
        <li class="sidebar__item">
          <a
            routerLink="/settings"
            routerLinkActive="sidebar__link--active"
            class="sidebar__link"
            (click)="closeSidebar()"
          >
            <i class="lucide icon-settings" aria-hidden="true"></i>
            Configurações
          </a>
        </li>
      </ul>
    </nav>
  </aside>

  <!-- Overlay para fechar sidebar em mobile -->
  @if (isSidebarOpen()) {
  <div class="sidebar__overlay" (click)="closeSidebar()" aria-hidden="true"></div>
  }

  <!-- Main Content Area -->
  <main class="main" [class.main--sidebar-open]="isSidebarOpen()">
    <div class="main__content">
      <router-outlet></router-outlet>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer" [class.footer--sidebar-open]="isSidebarOpen()">
    <div class="footer__content">
      <p class="footer__text">
        &copy; {{ currentYear() }} Pass Client. Todos os direitos reservados.
      </p>
    </div>
  </footer>
</div>
